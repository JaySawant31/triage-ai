:root{
  --bg:#ffffff; --surface:#f8fafc; --text:#0f172a; --muted:#64748b; --border:#e2e8f0;
  --primary:#2563eb; --primary-600:#1d4ed8; --danger:#dc2626;
  --ok-bg:#e9f9ee; --ok-text:#176c3a; --warn-bg:#fff4db; --warn-text:#8a5a00;
  --card-radius:14px;
  --shadow:0 6px 24px rgba(2,6,23,0.06), 0 2px 8px rgba(2,6,23,0.06);
  --font:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  --code:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Courier New",monospace;
}
[data-theme="dark"]{
  --bg:#0b1220; --surface:#0f172a; --text:#eef2ff; --muted:#8aa0bd; --border:#1f2a44;
  --primary:#3b82f6; --primary-600:#2563eb;
  --ok-bg:#0c2d1a; --ok-text:#7ee2a8; --warn-bg:#33280d; --warn-text:#ffd37a;
  --shadow:0 10px 30px rgba(0,0,0,0.35), 0 2px 10px rgba(0,0,0,0.25);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text); font:14px/1.45 var(--font);
  background-image:
    radial-gradient(24rem 24rem at 10% -10%, color-mix(in oklab, var(--primary) 6%, transparent), transparent 60%),
    radial-gradient(20rem 20rem at 110% 10%, color-mix(in oklab, var(--primary) 4%, transparent), transparent 60%);
  background-attachment: fixed;
}
.container{max-width:1200px;margin:0 auto;padding:18px}
h1,h2,h3{margin:0 0 10px}
a{color:var(--primary)}

.topbar{position:sticky;top:0;z-index:20;backdrop-filter:saturate(140%) blur(6px);
  background:color-mix(in oklab,var(--bg) 88%,transparent);border-bottom:1px solid var(--border)}
.topbar-inner{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 18px}
.title{display:flex;align-items:center;gap:10px}
.badge{font-size:12px;padding:2px 8px;border-radius:999px;background:var(--surface);border:1px solid var(--border);color:var(--muted)}
.actions{display:flex;gap:8px;align-items:center}

.grid{display:grid;gap:18px;grid-template-columns:repeat(12,1fr);padding:18px}
.card{grid-column:span 12;background:var(--surface);border:1px solid var(--border);border-radius:var(--card-radius);
  box-shadow:var(--shadow);overflow:hidden;position:relative;animation:fadeIn .35s ease both}
.card::before{content:"";position:absolute;inset:0 0 auto 0;height:3px;
  background:linear-gradient(90deg,color-mix(in oklab,var(--primary)70%,transparent),color-mix(in oklab,var(--primary)25%,transparent));opacity:.7}
@media (min-width:980px){.card.half{grid-column:span 6}.card.two-third{grid-column:span 8}.card.one-third{grid-column:span 4}}
.card-head{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 16px;border-bottom:1px solid var(--border)}
.card-body{padding:14px 16px}

.row{display:grid;gap:10px;grid-template-columns:1fr 1fr}
.row-1{display:grid;gap:10px;grid-template-columns:1fr}
label{font-size:12px;color:var(--muted)}
input,select,textarea,button{font:inherit;border-radius:10px;transition:.16s ease}
input,select,textarea{width:100%;padding:10px 12px;background:var(--bg);color:var(--text);border:1px solid var(--border);outline:none}
textarea{min-height:90px;resize:vertical}
input:focus,select:focus,textarea:focus{border-color:var(--primary);box-shadow:0 0 0 3px color-mix(in oklab,var(--primary)30%,transparent);transform:translateY(-.5px)}
.btn{padding:10px 14px;border:0;color:#fff;background:var(--primary);cursor:pointer;box-shadow:0 6px 16px color-mix(in oklab,var(--primary)25%,transparent)}
.btn:hover{background:var(--primary-600)} .btn:active{transform:translateY(1px)} .btn.secondary{color:var(--text);background:transparent;border:1px solid var(--border)}
.btn.ghost{color:var(--text);background:transparent}

.switch{display:inline-flex;align-items:center;gap:8px;color:var(--muted);font-size:12px}
.table-wrap{overflow:auto;max-height:480px}
table{width:100%;border-collapse:separate;border-spacing:0}
thead th{position:sticky;top:0;z-index:1;background:linear-gradient(to bottom,color-mix(in oklab,var(--surface)100%,transparent),color-mix(in oklab,var(--surface)90%,transparent)),var(--surface);
  border-bottom:1px solid var(--border);padding:10px;text-align:left;font-weight:600;color:var(--muted);white-space:nowrap}
tbody td{padding:10px;border-bottom:1px solid var(--border)}
tbody tr:hover{background:color-mix(in oklab,var(--surface)80%,transparent)}
tbody tr:nth-child(even){background:color-mix(in oklab,var(--surface)95%,transparent)}
th.sortable{cursor:pointer;user-select:none}
th.sortable .caret{opacity:.5;margin-left:6px;transition:transform .18s ease,opacity .18s ease}
th.sortable[data-dir="asc"] .caret{transform:rotate(180deg)}
.pill{padding:2px 8px;border-radius:999px;font-size:12px;display:inline-block}
.ok{background:var(--ok-bg);color:var(--ok-text);border:1px solid color-mix(in oklab,var(--ok-text)20%,transparent)}
.warn{background:var(--warn-bg);color:var(--warn-text);border:1px solid color-mix(in oklab,var(--warn-text)20%,transparent)}
.mono{font-family:var(--code)} .muted{color:var(--muted)} .empty{color:var(--muted);text-align:center;padding:28px}

#toast{position:fixed;right:18px;bottom:18px;z-index:50;display:grid;gap:10px;width:min(360px,92vw)}
.toast{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:12px 14px;box-shadow:var(--shadow);display:flex;gap:10px;animation:slidein .25s ease}
.toast.ok{border-left:6px solid #16a34a} .toast.err{border-left:6px solid var(--danger)}
.spinner{width:18px;height:18px;border-radius:50%;border:2px solid color-mix(in oklab,var(--text)20%,transparent);border-top-color:var(--primary);animation:spin .8s linear infinite;display:inline-block}

.filters{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.search{display:flex;align-items:center;gap:8px}
.search input{min-width:240px}

@keyframes spin{to{transform:rotate(360deg)}}
@keyframes slidein{from{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}
@keyframes fadeIn{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}

.footer{color:var(--muted);font-size:12px;text-align:center;padding:12px 0}